<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="iot.oamsvc.dao.StaffOperationLogMapper">
  <resultMap id="BaseResultMap" type="iot.oamsvc.entity.StaffOperationLog">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="log_id" jdbcType="INTEGER" property="logId" />
    <result column="object_type" jdbcType="INTEGER" property="objectType" />
    <result column="siteid" jdbcType="BIGINT" property="siteid" />
    <result column="staff_name" jdbcType="VARCHAR" property="staffName" />
    <result column="operate_time" jdbcType="TIMESTAMP" property="operateTime" />
    <result column="operate_type" jdbcType="INTEGER" property="operateType" />
    <result column="objectid" jdbcType="BIGINT" property="objectid" />
    <result column="userid" jdbcType="BIGINT" property="userid" />
    <result column="staff_id" jdbcType="BIGINT" property="staffId" />
    <result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
    <result column="org_id" jdbcType="BIGINT" property="orgId" />
    <result column="org_name" jdbcType="VARCHAR" property="orgName" />
    <result column="department_id" jdbcType="BIGINT" property="departmentId" />
    <result column="dept_name" jdbcType="VARCHAR" property="deptName" />
    <result column="origin_value" jdbcType="LONGVARCHAR" property="originValue" />
    <result column="new_value" jdbcType="LONGVARCHAR" property="newValue" />
    <result column="remark" jdbcType="LONGVARCHAR" property="remark" />
  </resultMap>
  <sql id="Where_Like">
    <where>
        1=1
      <!--添加if条件如果参数为空则不拼接sql-->
      <if test="logId != null and logId != '' ">
        and log_id like concat('%',#{logId},'%')
      </if>
      <if test="objectType != null and objectType != '' ">
        and object_type like concat('%',#{objectType},'%')
      </if>
      <if test="siteid != null and siteid != '' ">
        and siteid like concat('%',#{siteid},'%')
      </if>
      <if test="staffName != null and staffName != '' ">
        and staff_name like concat('%',#{staffName},'%')
      </if>
      <if test="operateType != null and operateType != '' ">
        and operate_type like concat('%',#{operateType},'%')
      </if>
      <if test="objectid != null and objectid != '' ">
        and objectid like concat('%',#{objectid},'%')
      </if>
      <if test="userid != null and userid != '' ">
        and objectid like concat('%',#{objectid},'%')
      </if>
      <if test="staffId != null and staffId != '' ">
        and staff_id like concat('%',#{staffId},'%')
      </if>
      <if test="orgId != null and orgId != '' ">
        and org_id like concat('%',#{orgId},'%')
      </if>
      <if test="orgName != null and orgName != '' ">
        and org_name like concat('%',#{orgName},'%')
      </if>
      <if test="departmentId != null and departmentId != '' ">
        and department_id like concat('%',#{departmentId},'%')
      </if>
      <if test="deptName != null and deptName != '' ">
        and dept_name like concat('%',#{deptName},'%')
      </if>
      <if test="originValue != null and originValue != '' ">
        and origin_value like concat('%',#{originValue},'%')
      </if>
      <if test="newValue != null and newValue != '' ">
        and new_value like concat('%',#{newValue},'%')
      </if>
      <if test="remark != null and remark != '' ">
        and remark like concat('%',#{remark},'%')
      </if>
      <if test="operateTimeStart != null and timeStart != '' and operateTimeStartEnd != null and operateTimeStartEnd != ''">
        or DATE_FORMAT(operate_time,'%Y%m') BETWEEN #{operateTimeStartStart} and #{operateTimeStartEnd}
      </if>
      <if test="createTimeStart != null and timeStart != '' and createTimeEnd != null and createTimeEnd != ''">
        or DATE_FORMAT(create_time,'%Y%m') BETWEEN #{createTimeStart} and #{createTimeEnd}
      </if>
    </where>
  </sql>
  <sql id="Where_Exact">
    <where>
        1=1
      <!--添加if条件如果参数为空则不拼接sql-->
      <if test="logId != null and logId != '' ">
        and log_id =#{logId}
      </if>
      <if test="objectType != null and objectType != '' ">
        and object_type = #{objectType}
      </if>
      <if test="siteid != null and siteid != '' ">
        and siteid = #{siteid}
      </if>
      <if test="staffName != null and staffName != '' ">
        and staff_name = #{staffName}
      </if>
      <if test="operateType != null and operateType != '' ">
        and operate_type = #{operateType}
      </if>
      <if test="objectid != null and objectid != '' ">
        and objectid = #{objectid}
      </if>
      <if test="userid != null and userid != '' ">
        and userid = #{userid}
      </if>
      <if test="staffId != null and staffId != '' ">
        and staff_id  = #{staffId}
      </if>
      <if test="orgId != null and orgId != '' ">
        and org_id = #{orgId}
      </if>
      <if test="orgName != null and orgName != '' ">
        and org_name = #{orgName}
      </if>
      <if test="departmentId != null and departmentId != '' ">
        and department_id  = #{departmentId}
      </if>
      <if test="deptName != null and deptName != '' ">
        and dept_name = #{deptName}
      </if>
      <if test="originValue != null and originValue != '' ">
        and origin_value = #{originValue}
      </if>
      <if test="newValue != null and newValue != '' ">
        and new_value =#{newValue}
      </if>
      <if test="remark != null and remark != '' ">
        and remark = #{remark}
      </if>
      <if test="operateTimeStart != null and timeStart != '' and operateTimeStartEnd != null and operateTimeStartEnd != ''">
        or DATE_FORMAT(operate_time,'%Y%m') BETWEEN #{operateTimeStartStart} and #{operateTimeStartEnd}
      </if>
      <if test="createTimeStart != null and timeStart != '' and createTimeEnd != null and createTimeEnd != ''">
        or DATE_FORMAT(create_time,'%Y%m') BETWEEN #{createTimeStart} and #{createTimeEnd}
      </if>
    </where>
  </sql>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from t_staff_op_log
    where log_id = #{logId,jdbcType=INTEGER}
  </delete>
  <delete id="deleteByExact" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from t_staff_op_log
    <include refid="Where_Exact" />
  </delete>
  <insert id="insert" parameterType="iot.oamsvc.entity.StaffOperationLog">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into t_staff_op_log (log_id, object_type, siteid, 
      staff_name, operate_time, operate_type, 
      objectid, userid, staff_id, 
      create_time, org_id, org_name, 
      department_id, dept_name, origin_value, 
      new_value, remark)
    values (#{logId,jdbcType=INTEGER}, #{objectType,jdbcType=INTEGER}, #{siteid,jdbcType=BIGINT}, 
      #{staffName,jdbcType=VARCHAR}, #{operateTime,jdbcType=TIMESTAMP}, #{operateType,jdbcType=INTEGER}, 
      #{objectid,jdbcType=BIGINT}, #{userid,jdbcType=BIGINT}, #{staffId,jdbcType=BIGINT}, 
      #{createTime,jdbcType=TIMESTAMP}, #{orgId,jdbcType=BIGINT}, #{orgName,jdbcType=VARCHAR}, 
      #{departmentId,jdbcType=BIGINT}, #{deptName,jdbcType=VARCHAR}, #{originValue,jdbcType=LONGVARCHAR}, 
      #{newValue,jdbcType=LONGVARCHAR}, #{remark,jdbcType=LONGVARCHAR})
  </insert>
  <update id="updateByPrimaryKey" parameterType="iot.oamsvc.entity.StaffOperationLog">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update t_staff_op_log
    set object_type = #{objectType,jdbcType=INTEGER},
      siteid = #{siteid,jdbcType=BIGINT},
      staff_name = #{staffName,jdbcType=VARCHAR},
      operate_time = #{operateTime,jdbcType=TIMESTAMP},
      operate_type = #{operateType,jdbcType=INTEGER},
      objectid = #{objectid,jdbcType=BIGINT},
      userid = #{userid,jdbcType=BIGINT},
      staff_id = #{staffId,jdbcType=BIGINT},
      create_time = #{createTime,jdbcType=TIMESTAMP},
      org_id = #{orgId,jdbcType=BIGINT},
      org_name = #{orgName,jdbcType=VARCHAR},
      department_id = #{departmentId,jdbcType=BIGINT},
      dept_name = #{deptName,jdbcType=VARCHAR},
      origin_value = #{originValue,jdbcType=LONGVARCHAR},
      new_value = #{newValue,jdbcType=LONGVARCHAR},
      remark = #{remark,jdbcType=LONGVARCHAR}
    where log_id = #{logId,jdbcType=INTEGER}
  </update>
  <update id="updateByExact" parameterType="iot.oamsvc.entity.StaffOperationLog">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update t_staff_op_log
    set object_type = #{objectType,jdbcType=INTEGER},
      siteid = #{siteid,jdbcType=BIGINT},
      staff_name = #{staffName,jdbcType=VARCHAR},
      operate_time = #{operateTime,jdbcType=TIMESTAMP},
      operate_type = #{operateType,jdbcType=INTEGER},
      objectid = #{objectid,jdbcType=BIGINT},
      userid = #{userid,jdbcType=BIGINT},
      staff_id = #{staffId,jdbcType=BIGINT},
      create_time = #{createTime,jdbcType=TIMESTAMP},
      org_id = #{orgId,jdbcType=BIGINT},
      org_name = #{orgName,jdbcType=VARCHAR},
      department_id = #{departmentId,jdbcType=BIGINT},
      dept_name = #{deptName,jdbcType=VARCHAR},
      origin_value = #{originValue,jdbcType=LONGVARCHAR},
      new_value = #{newValue,jdbcType=LONGVARCHAR},
      remark = #{remark,jdbcType=LONGVARCHAR}
    <include refid="Where_Exact" />
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select log_id, object_type, siteid, staff_name, operate_time, operate_type, objectid, 
    userid, staff_id, create_time, org_id, org_name, department_id, dept_name, origin_value, 
    new_value, remark
    from t_staff_op_log
    where log_id = #{logId,jdbcType=INTEGER}
  </select>
  <select id="selectByLike" parameterType="iot.oamsvc.entity.StaffOperationLog" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select log_id, object_type, siteid, staff_name, operate_time, operate_type, objectid,
    userid, staff_id, create_time, org_id, org_name, department_id, dept_name, origin_value,
    new_value, remark
    from t_staff_op_log
    <include refid="Where_Like" />
  </select>
  <select id="selectByExact" parameterType="iot.oamsvc.entity.StaffOperationLog" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select log_id, object_type, siteid, staff_name, operate_time, operate_type, objectid,
    userid, staff_id, create_time, org_id, org_name, department_id, dept_name, origin_value,
    new_value, remark
    from t_staff_op_log
    <include refid="Where_Exact" />
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select log_id, object_type, siteid, staff_name, operate_time, operate_type, objectid, 
    userid, staff_id, create_time, org_id, org_name, department_id, dept_name, origin_value, 
    new_value, remark
    from t_staff_op_log
  </select>
</mapper>